{% extends 'social_distribution/base.html' %}

{% block title %}SocialDistribution - Homepage{% endblock %}

{% block content %}
<h2>Your Stream</h2>

{% for post in posts %}
  <div class="post">
    <!-- Display the author's name in bold, for instance -->
    <p><strong>{{ post.author.display_name }}</strong></p>

    {% if post.text %}
      <!-- Use |safe so markdown posts are shown as HTML -->
      <div>{{ post.text|safe }}</div>
    {% endif %}

    {% if post.image %}
      <img src="{{ post.image.url }}" alt="Post Image" width="300">
    {% endif %}

    {% if post.video %}
      <video width="300" controls>
        <source src="{{ post.video.url }}" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    {% endif %}
    <p>Posted on {{ post.created_at }}</p>

    <!-- Button for copying link to posts -->
    <button type="button" class="copy-post-link" data-copy="{{ request.scheme }}://{{ request.get_host }}/authors/{{ post.author.id }}/posts/{{ post.id }}/view/">
      <span class="copy-label">Copy Link</span>
    </button>

  </div>
{% endfor %}
{% endblock %}

