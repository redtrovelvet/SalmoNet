{% extends 'social_distribution/base.html' %}

{% block title %}SocialDistribution -- Homepage{% endblock %}

{% block content %}
  <h1>SocialDistribution</h1>
  <h2>Your Stream</h2>
  {% if posts %}
    {% for post in posts %}
      <div class="post">
        <!-- Wrap the author's display name in a link to their profile -->
        <p>
          <a href="{% url 'profile' post.author.id %}">{{ post.author.display_name }}</a>  
          {# NEW: Clickable author name linking to their profile #}
        </p>
        {% if post.text %}
          <p>{{ post.text }}</p>
        {% endif %}
        {% if post.image %}
          <img src="{{ post.image.url }}" alt="Post Image" width="300">
        {% endif %}
        <p>Posted on {{ post.created_at }}</p>
      </div>
    {% endfor %}
  {% else %}
    <p>No posts to display.</p>
  {% endif %}
{% endblock %}
